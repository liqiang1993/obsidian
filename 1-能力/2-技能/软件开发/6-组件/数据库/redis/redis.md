# 单机数据库

# AOF

# RDB

# 数据结构

## SDS

### {len, free buf}

## 双向链表

### {head, tail, count}

## 字典

### {函数集合指针， 参数集合指针， 哈希表数组， rehash的标识}

### 底层用hash数组实现， 哈希冲突时用链接地址法解决

### rehash

## 压缩列表

### 列表总大小， 尾节点的位移， 节点总数， 节点

### 节点：上一个节点的大小， 节点类型和大小， 节点内容

## 跳表

### 链表+多层索引

### {头结点指针， 尾结点指针， 节点数， 最大层数， 层数列表}

### 节点：对象，分值， 前向节点指针， 层列表

## 整数集合

### {类型， 元素个数， buf}

### 有序， 不重复

# 对象

## 字符串

### sds

### 整型

### embstr

## 列表

### 压缩列表

### 双向链表

## 哈希

### 压缩列表

### 字典

## 集合

### 整数集合

### 字典

## 有序集合

### 压缩列表

### 跳表